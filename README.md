# ServerMonitor

ServerMonitor - это плагин для мониторинга производительности Minecraft серверов на платформе Paper. Плагин предоставляет удобный интерфейс для отслеживания ключевых метрик сервера через игровые команды.

## Возможности

- **Мониторинг CPU**: отображение загрузки процессора и количества доступных ядер
- **Мониторинг памяти**: отображение использованной, свободной и общей памяти
- **Мониторинг TPS**: отображение тиков в секунду за разные периоды времени
- **Мониторинг пинга**: отображение пинга всех игроков на сервере
- **Информация о сервере**: отображение версии, времени работы, загруженных чанков и сущностей

## Требования

- Minecraft сервер Paper 1.21.4 или выше
- Java 17 или выше

## Установка

1. Скачайте последнюю версию плагина из раздела [Releases](https://github.com/yourusername/ServerMonitor/releases)
2. Поместите JAR-файл в папку `plugins` вашего Minecraft сервера
3. Перезапустите сервер или используйте команду `/reload confirm`
4. Готово! Используйте команды плагина для мониторинга сервера

## Команды

- `/servermonitor` или `/sm` - Базовая команда плагина
- `/sm help` - Показывает список доступных команд
- `/sm cpu` - Показывает информацию о загрузке CPU
- `/sm memory` - Показывает информацию об использовании памяти
- `/sm tps` - Показывает текущий TPS (тики в секунду) сервера
- `/sm ping` - Показывает пинг всех игроков на сервере
- `/sm all` - Показывает все метрики сразу
- `/sm reload` - Перезагружает конфигурацию плагина (требуется разрешение servermonitor.reload)

## Разрешения

- `servermonitor.use` - Разрешает использовать основные команды плагина (по умолчанию для операторов)
- `servermonitor.reload` - Разрешает перезагружать конфигурацию плагина (по умолчанию для операторов)

## Конфигурация

Файл конфигурации `config.yml` создается автоматически при первом запуске плагина. Вы можете настроить:

```yaml
# Настройки отображения
settings:
  # Цветовая схема: default, dark, light
  color_scheme: default
  # Показывать префикс плагина в сообщениях
  show_prefix: true
  # Режим отладки (включает дополнительное логирование)
  debug: false

# Пороговые значения производительности
thresholds:
  # Пороги использования CPU (в процентах)
  cpu:
    warning: 60
    critical: 85
  # Пороги использования памяти (в процентах)
  memory:
    warning: 60
    critical: 85
  # Пороги TPS
  tps:
    warning: 15
    critical: 10
  # Пороги пинга (в миллисекундах)
  ping:
    warning: 100
    critical: 250

# Настройки мониторинга
monitoring:
  # Включить автоматические оповещения о мониторинге
  enable_alerts: false
  # Интервал оповещений в секундах (минимум 60)
  alert_interval: 300
  # Кто должен получать оповещения (console, ops, all)
  alert_recipients: ops
```

## Структура проекта

```
ServerMonitor/
├── src/
│   └── main/
│       ├── java/
│       │   └── com/
│       │       └── servermonitor/
│       │           └── ServerMonitor.java
│       └── resources/
│           ├── config.yml
│           └── plugin.yml
├── pom.xml
├── LICENSE
├── README.md
└── .gitignore
```

## Сборка из исходников

1. Клонируйте репозиторий:
```
git clone https://github.com/yourusername/ServerMonitor.git
```

2. Соберите проект с помощью Maven:
```
cd ServerMonitor
mvn clean package
```

3. Готовый JAR-файл будет находиться в папке `target/`

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности смотрите в файле [LICENSE](LICENSE).
